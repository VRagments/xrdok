<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>XRdok</title>
    <meta name="XRdok" content="XR toolset">
    <script src="aframe-master.js"></script>
    <script src="aframe-physics-system.js"></script>
    <script src="papaparse.min.js"></script>
    <script src="xrdok.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- simple sky to have a background color -->
      <a-sky color="#A5A5C5" radius="1000"></a-sky>
      <!-- ambient lighting -->
      <a-entity light="type: ambient; color: #BBB"></a-entity>
      <!-- a spot light -->
      <a-entity
        light="type: spot; color: #BBB; intensity: 0.6; castShadow: true"
        position="0 5 0"
        rotation="-30 0 0"
      ></a-entity>
      <!-- simulated basic ground -->
      <a-plane position="0 -10 0" rotation="-90 0 0" width="1000" height="1000" color="#656585" static-body></a-plane>

      <!-- camera in fly mode and with faster movement -->
      <!--
      <a-entity position="0 1.6 0" camera wasd-controls="fly: true; acceleration: 200.00;" look-controls></a-entity>
      -->

      <!-- a box showing the output that xr-inspect prints -->
      <!--
      <a-box position="-3 1 -2" color="yellow" xr-click xr-inspect></a-box>
      -->


      <!-- several boxes and a cylinder that can be grabbed.
           both boxes react on click and one box will react on touch with the cylinder to change the color of the other box
      -->
      <!--
      <a-box position="0 1 -8" rotation="0 45 0" color="#0C03DF" static-body xr-click xr-on="event: collide; id: foobar" xr-on__me="event: xr-click;">
        <xr-comp xr-wait='event: collide' animation="property: material.color; to: #DDFFAA"></xr-comp>
        <xr-comp xr-wait='event: collide' animation="property: material.color; to: #0C03DF"></xr-comp>
        <xr-comp__me xr-wait='event: xr-click' animation="property: material.color; to: #A0A0AA"></xr-comp__me>
        <xr-comp__me animation="property: material.color; to: #0C03DF"></xr-comp__me>
      </a-box>
      <a-box id="foobar" position="3 1 -3" rotation="0 45 0" color="#4CC3D9" xr-click xr-on="event: xr-click" static-body>
        <xr-comp animation="property: material.color; to: #11AA00"></xr-comp>
      </a-box>
      <a-cylinder position="-3 2 -4" color="crimson" height="5" xr-grab dynamic-body></a-cylinder>
      -->


      <!-- display a gltf-model -->
      <!--
        <a-gltf-model src="models/cyberllama_anny/scene.gltf" position="1 3 -6"></a-gltf-model>
      -->


      <!-- toggle button for audio playing -->
      <!--
      <a-entity position="2.2 1 -3" xr-button="toggle: true;" xr-on="event: xr-button-on">
        <a-entity material="color: red" xr-icon-stop xr-button-icon="show: toggled"></a-entity>
        <a-entity material="color: green" xr-icon-play xr-button-icon="show: non-toggled"></a-entity>
        <xr-comp xr-wait="event: xr-button-off" sound="src: models/sound1.ogg; autoplay: true;"></xr-comp>
      </a-entity>
      -->


      <!-- a button showing an image when toggled on -->
      <!--
      <a-entity id="mypic" position="0 2 -4" scale="2 1 1"> </a-entity>
      <a-entity position="0 1 -3" xr-inspect xr-button="toggle: true;" xr-on="event: xr-button-on; id: mypic;">
        <a-plane rotation="-90 0 0" scale="1 0.5 1" material="color: cyan" xr-button-icon="show: always"></a-plane>
        <xr-comp geometry="primitive: plane"
          material="src: models/2dpic.jpg; shader: flat; side: double; transparent: true;"
          xr-wait="event: xr-button-off"
        ></xr-comp>
      </a-entity>
      -->


      <!-- background sphere with button to toggle its source -->
      <!--
      <a-sphere id="bg_sphere" radius="4000" scale="1 1 -1" material="shader: flat; side: back;" src="models/pic1.jpg"></a-sphere>
      <a-entity scale="0.5 2 0.5" rotation="45 0 0" position="3 1 -6" material="color: #F014DF" xr-button xr-on="event: xr-button-click; id: bg_sphere;" >
        <xr-comp xr-wait="event: xr-button-click" src="models/pic2.jpg"></xr-comp>
        <xr-comp xr-wait="event: xr-button-click" src="models/pic3.jpg"></xr-comp>
        <xr-comp src="models/pic1.jpg"></xr-comp>
      </a-entity>
      -->


      <!-- a two state text card that will expand to its long form when a button is clicked -->
      <!--
      <a-entity id="text_container" position="0 1.5 -1" rotation="-30 0 0">
        <a-entity
          id="text_content"
          text="value: Short explanation; color: black;"
        ></a-entity>
        <a-entity
          id="text_background"
          geometry="primitive: plane"
          material="color: lightgrey"
          scale="0.6 0.20 1"
          position="-0.22 0 0"
        ></a-entity>
        <a-entity
          rotation="90 0 0"
          scale="0.08 0.3 0.08"
          position="-0.01 0 0"
          material="color: #aaaaa0"
          xr-button="toggle: true;"
          xr-on__container="event: xr-button-on; id: text_container;"
          xr-on__content="event: xr-button-on; id: text_content;"
          xr-on__background="event: xr-button-on; id: text_background;"
        >
          <a-entity
            xr-button-icon="show: non-toggled"
            xr-icon-dots
            material="color: #888880"
          ></a-entity>
          <a-entity
            xr-button-icon="show: toggled"
            xr-icon-chevron
            material="color: #888880"
          ></a-entity>
          <xr-comp__container xr-wait="event: xr-button-off" animation="property: rotation; to: 0 0 0; dur: 666"></xr-comp__container>
          <xr-comp__container animation="property: rotation; to: -30 0 0; dur: 666"></xr-comp__container>
          <xr-comp__content
            xr-wait="event: xr-button-off"
            text="value: This is a long\nexplanation. Real\nwall of text here.\nEven more text to\nshow and really\nreally long.; color: black;"
            animation="property: position; to: 0 0.1 0; dur: 666;"
          ></xr-comp__content>
          <xr-comp__content
            text="value: Short explanation; color: black;"
            animation="property: position; to: 0 0 0; dur: 666;"
          ></xr-comp__content>
          <xr-comp__background
            xr-wait="event: xr-button-off"
            animation__scale="property: scale; to: 0.6 0.4 0; dur: 666"
            animation__position="property: position; to: -0.22 0.1 0; dur: 666"
          ></xr-comp__background>
          <xr-comp__background
            animation__scale="property: scale; to: 0.6 0.2 0; dur: 666"
            animation__position="property: position; to: -0.22 0 0; dur: 666"
          ></xr-comp__background>
        </a-entity>
      </a-entity>
      -->

      <!-- a depth forward chart with trigger buttons to simulate stages -->
      <a-entity
        id="graph_container"
        position="0 0 0"
      >
        <a-entity
          id="graph_content"
          position="-5 1 -10"
          rotation="0 -90 0"
          scale="1 1 0.1"
          xr-plane-graph="src: ./models/mean_air_temp_bb.csv; showGraph: false;"
        ></a-entity>
        <a-entity
          id="button_exp_start"
          scale="0.25 1 0.25"
          rotation="90 0 0"
          position="0 1 -2"
          material="color: #E31818"
          xr-button="toggle: true;"
          xr-on__content="event: xr-button-on; id: graph_content;"
          xr-on__button="event: xr-button-click; id: button_exp_start;"
          xr-on__buttonnext="event: xr-button-click; id: button_start;"
        >
          <a-text
            value="Ein Ueberblick der Jahresmitteltemperaturen\nin Berlin und Brandenburg\ndes Deutschen Wetterdienstes\nvon 1881 bis 2018."
            rotation="-80 90 -90"
            align="left"
            position="-12 0 0"
            scale="2 2 2"
          ></a-text>
          <a-text
            value="START EXPERIENCE"
            rotation="-90 0 0"
            align="center"
            position="0 0.1 1.5"
            scale="2 2 2"
          ></a-text>
          <a-entity
            xr-button-icon
            xr-icon-play
            material="color: #888880"
          ></a-entity>
          <xr-comp__content
            xr-wait="event: xr-button-on" xr-plane-graph="src: ./models/mean_air_temp_bb.csv; showGraph: true;"
            xr-wait="event: xr-button-on" animation__position="property: position; to: 0 -1 0; dur: 1666"
            xr-wait="event: xr-button-on" animation__rotation="property: rotation; to: 0 0 0; dur: 1666"
            xr-wait="event: xr-button-on" animation__scale="property: scale; to: 1 1 2; dur: 1666"
          ></xr-comp__content>
          <xr-comp__button
            animation__position="property: object3D.position.y; to: -50; dur: 1666"
          ></xr-comp__button>
          <xr-comp__buttonnext
            animation__position="property: object3D.position.y; to: 1; dur: 1999"
          ></xr-comp__buttonnext>
        </a-entity>
        <a-entity
          id="button_start"
          scale="0.25 1 0.25"
          rotation="90 0 0"
          position="0 -50 -2"
          material="color: #E31818"
          xr-button
          xr-on__content="event: xr-button-click; id: graph_container;"
          xr-on__button="event: xr-button-click; id: button_start;"
          xr-on__buttonnext="event: xr-button-click; id: button_next_1;"
        >
          <a-text
            value="Lorem ipsum dolor sit amet,\nconsectetur adipiscing elit,\nsed do eiusmod tempor\nincididunt ut labore\net dolore magna aliqua."
            rotation="-80 90 -90"
            align="left"
            position="-12 0 0"
            scale="2 2 2"
          ></a-text>
          <a-text
            value="START"
            rotation="-90 0 0"
            align="center"
            position="0 0.1 1.5"
            scale="2 2 2"
          ></a-text>
          <a-entity
            xr-button-icon
            xr-icon-play
            material="color: #888880"
          ></a-entity>
          <xr-comp__content
            animation__position="property: object3D.position.z; to: 42; dur: 3666"
          ></xr-comp__content>
          <xr-comp__button
            animation__position="property: object3D.position.y; to: -50; dur: 3666"
          ></xr-comp__button>
          <xr-comp__buttonnext
            animation__position="property: object3D.position.y; to: 1; dur: 3999"
          ></xr-comp__buttonnext>
        </a-entity>
        <a-entity
          id="button_next_1"
          scale="0.25 1 0.25"
          rotation="90 0 0"
          position="0 -50 -44"
          material="color: #E31818"
          xr-button
          xr-on__content="event: xr-button-click; id: graph_container;"
          xr-on__button="event: xr-button-click; id: button_next_1;"
          xr-on__buttonnext="event: xr-button-click; id: button_next_2;"
        >
          <a-text
            value="Lorem ipsum dolor sit amet,\nconsectetur adipiscing elit,\nsed do eiusmod tempor\nincididunt ut labore\net dolore magna aliqua."
            rotation="-80 90 -90"
            align="left"
            position="-12 0 0"
            scale="2 2 2"
          ></a-text>
          <a-text
            value="WEITER"
            rotation="-90 0 0"
            align="center"
            position="0 0.1 1.5"
            scale="2 2 2"
          ></a-text>
          <a-entity
            xr-button-icon
            xr-icon-play
            material="color: #888880"
          ></a-entity>
          <xr-comp__content
            animation__position="property: object3D.position.z; to: 92; dur: 3666"
          ></xr-comp__content>
          <xr-comp__button
            animation__position="property: object3D.position.y; to: -50; dur: 3666"
          ></xr-comp__button>
          <xr-comp__buttonnext
            animation__position="property: object3D.position.y; to: 1; dur: 3999"
          ></xr-comp__buttonnext>
        </a-entity>
        <a-entity
          id="button_next_2"
          scale="0.25 1 0.25"
          rotation="90 0 0"
          position="0 -50 -94"
          material="color: #E31818"
          xr-button
          xr-on__content="event: xr-button-click; id: graph_container;"
          xr-on__button="event: xr-button-click; id: button_next_2;"
          xr-on__buttonnext="event: xr-button-click; id: button_next_n;"
        >
          <a-text
            value="Lorem ipsum dolor sit amet,\nconsectetur adipiscing elit,\nsed do eiusmod tempor\nincididunt ut labore\net dolore magna aliqua."
            rotation="-80 90 -90"
            align="left"
            position="-12 0 0"
            scale="2 2 2"
          ></a-text>
          <a-text
            value="WEITER"
            rotation="-90 0 0"
            align="center"
            position="0 0.1 1.5"
            scale="2 2 2"
          ></a-text>
          <a-entity
            xr-button-icon
            xr-icon-play
            material="color: #888880"
          ></a-entity>
          <xr-comp__content
            animation__position="property: object3D.position.z; to: 132; dur: 3666"
          ></xr-comp__content>
          <xr-comp__button
            animation__position="property: object3D.position.y; to: -50; dur: 3666"
          ></xr-comp__button>
          <xr-comp__buttonnext
            animation__position="property: object3D.position.y; to: 1.5; dur: 3999"
          ></xr-comp__buttonnext>
        </a-entity>
        <a-entity
          id="button_next_n"
          scale="0.25 1 0.25"
          rotation="90 0 0"
          position="0 -50 -134"
          material="color: #E31818"
          xr-button
          xr-on__content="event: xr-button-click; id: graph_container;"
          xr-on__button="event: xr-button-click; id: button_next_n;"
          xr-on__buttonnext="event: xr-button-click; id: button_start;"
        >
          <a-text
            value="Lorem ipsum dolor sit amet,\nconsectetur adipiscing elit,\nsed do eiusmod tempor\nincididunt ut labore\net dolore magna aliqua."
            rotation="-80 90 -90"
            align="left"
            position="-12 0 0"
            scale="2 2 2"
          ></a-text>
          <a-text
            value="ZUM ANFANG"
            rotation="-90 0 0"
            align="center"
            position="0 0.1 1.5"
            scale="2 2 2"
          ></a-text>
          <a-entity
            xr-button-icon
            xr-icon-play
            material="color: #888880"
          ></a-entity>
          <xr-comp__content
            animation__position="property: object3D.position.z; to: 0; dur: 666"
          ></xr-comp__content>
          <xr-comp__button
            animation__position="property: object3D.position.y; to: -50; dur: 666"
          ></xr-comp__button>
          <xr-comp__buttonnext
            animation__position="property: object3D.position.y; to: 1; dur: 999"
          ></xr-comp__buttonnext>
        </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
